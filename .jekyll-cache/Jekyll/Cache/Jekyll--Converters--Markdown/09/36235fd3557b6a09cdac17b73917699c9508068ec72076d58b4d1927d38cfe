I"W<p><span style="font-size: 18pt; font-family: 'comic sans ms', sans-serif; color: #339966;">1.T&igrave;m hiểu c&ocirc;ng nghệ</span></p>
<p><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- Proxy l&agrave; một internet server l&agrave;m nhiệm vụ chuyển tiếp th&ocirc;ng tin v&agrave; kiểm so&aacute;t sự an to&agrave;n cho việc truy cập internet của c&aacute;c m&aacute;y kh&aacute;ch</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- Http (HyperText Transfer Protocol):l&agrave; một trong năm giao thức chuẩn của mạng Internet,được d&ugrave;ng để li&ecirc;n hệ th&ocirc;ng tin giữa M&aacute;y cung cấp dịch vụ v&agrave; M&aacute;y sử dụng dịch vụ trong m&ocirc; h&igrave;nh Client/Server</span></p>
<p><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- Nginx : l&agrave; webserver sử l&yacute; c&aacute;c y&ecirc;u cầu từ tr&igrave;nh duyệt ,N&oacute; gi&uacute;p chủ website đưa nội dung l&ecirc;n web &ndash; v&igrave; vậy c&oacute; t&ecirc;n gọi l&agrave; &ldquo;web server&rdquo; (apache,lighttpd,NodeJS),</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- WSGI (Web Server Gateway Interface)Giao diện cổng m&aacute;y chủ Web l&agrave; một quy ước gọi đơn giản cho c&aacute;c webserver để CHUYỂN TIẾP C&Aacute;C Y&Ecirc;U CẦU ĐẾN WEB APP hoặc khung được viết bằng ng&ocirc;n ngữ lập tr&igrave;nh Python</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- gunicorn l&agrave; python web server theo chuẩn WSGI</span><br /><span style="font-size: 18pt; color: #339966; font-family: 'comic sans ms', sans-serif;">2.heroku</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">heroku login </span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">heroku git:remote -a &lt;name_app&gt;</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">git remote -v</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">heroku create &lt;ten app&gt;</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">heroku logs --tail</span><br /><span style="font-size: 18pt; color: #339966; font-family: 'comic sans ms', sans-serif;">3.go to django project</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">pip install django django-filter django-storages boto3 pillow</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">pip install gunicorn whitenoise</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">pip freeze &gt; requirements.txt</span><br /><span style="font-size: 18pt; color: #339966; font-family: 'comic sans ms', sans-serif;">4.setting </span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">DEBUG = False #new</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">ALLOWED_HOSTS = ['.herokuapp.com','127.0.0.1'] #new</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">'whitenoise.middleware.WhiteNoiseMiddleware',#new</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">STATICFILES_STORAGE = 'whitenoise.storage.CompressedStaticFilesStorage'</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">STATIC_ROOT = os.path.join(BASE_DIR,'staticfiles')</span></p>
<p><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">install postgresql postgresql-contrib</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">MEDIA_URL ='/media/'</span><br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">MEDIA_ROOT = os.path.join(BASE_DIR,'media')</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 18pt; color: #000000;">#S3</span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 18pt;"><a title="Hướng dẫn sử dụng S3 " href="https://youtu.be/inQyZ7zFMHM" target="_blank">Hướng dẫn sử dụng S3 </a></span></p>
<p><span style="font-family: 'comic sans ms', sans-serif; font-size: 18pt;">Source Code :&nbsp;<a href="https://github.com/divanov11/crash-course-CRM/blob/Part-22-S3-File-storage/crm1/crm1/settings.py" target="_blank">Setting</a></span></p>
<p><span style="font-size: 18pt; color: #339966; font-family: 'comic sans ms', sans-serif;">4.runtime.txt</span></p>
<p>'''<br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">python-3.7.4</span></p>
<p>'''</p>
<p><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- tạo file runtime.txt file n&agrave;y sẽ chọn phi&ecirc;n bản python cho heroku chạy&nbsp;</span><br /><span style="font-size: 18pt; color: #339966; font-family: 'comic sans ms', sans-serif;">5.Procfile</span></p>
<p>'''<br /><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">web: gunicorn &lt;config&gt;.wsgi --log-file -</span></p>
<p>'''</p>
<p><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;">- Tạo file Procfile kh&ocirc;ng cần .txt : file n&agrave;y sẽ gọi v&agrave;o wsgi của django để heroku biết chạy file n&agrave;o trước , hiểu đơn giản l&agrave; để n&oacute; biết m&agrave; chạy c&aacute;i lệnh python manage.py runserver . nếu ko c&oacute; file n&agrave;y hệ thống sẽ kh&ocirc;ng biết chạy file n&agrave;o trước</span></p>
<p><span style="font-size: 14pt; font-family: 'comic sans ms', sans-serif;"><img style="height: auto; width: 100%;" src="https://www.futurefundamentals.com/wp-content/uploads/2019/11/django-behind-uwsgi-nginx.png" width="886" height="308" /></span></p>
:ET